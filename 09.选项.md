# 9. 选项

由于各种各样玩家的风格和NetHack本身的一些概念，这里有一些你可以自定义设置的选项来决定NetHack的行为。

## 9.1 设置选项（Setting the options）

选项可以通过很多种方式进行设置。在游戏中，`O`命令允许你查看所有的选项并且改变他们中的大多数。你也可以把这些选项放置在配置文件中，或是设置在`NETHACKOPTIONS`环境变量中来自动加载它们。某些版本的NetHack也有前端程序来让你在游戏启动的时候设置或是对于系统管理员的全局配置。

## 9.2 使用配置文件（Using a configuration file）

配置文件的默认名称取决于不同的操作系统。

在UNIX，Linux和Mac OS X上，它是`.nethackrc`并且处于用户的`home`目录下。这个文件或许不存在，但是它是一个ASCII文本文件并且你可以用任何文本编辑器来创建它。

在Windows上，它是`.nethackrc`并处于文件夹`\$USERPROFILE%\NetHack\3.6\`中。这个文件或许不存在，但是它是一个ASCII文本文件并且你可以用任何文本编辑器来创建它。在第一次运行了NetHack之后，你将会发现一个名为`.nethackrc.template`的文件在`\$USERPROFILE%\NetHack\3.6\`中。如果你没有创建配置文件，NetHack将会使用模版配置文件来创建一个简单的配置文件来供你使用。

在MS-DOS上，它是`.defaults.nh`并处于`nethack.exe`同目录下。

在配置文件中所有以`#`开头的行将被视为注释。空行将会被忽略。

任何以`[`开头，`]`结尾的行将被视为一个章节（section）标识。处于方括号之间的文本是这节的名称。在这节之后的所有行都被认为是属于这一节的。除非是一个`CHOOSE`声明用于选择某个章节（其他的会被忽略）。章节名称大小写敏感。

你可以使用不同的配置声明在配置文件中，其中某些声明可以多次使用。通常，配置声明使用大写字母书写，紧跟着一个等于符号，再跟着对于该声明指定的设置。

下面是允许使用的声明：

##### OPTIONS

options的类型有两种，布尔类型和多值类型。布尔选项会让设置开启或关闭，而多值类型选项则有多个选项值。对于布尔选项，在其前缀加上`no`或是`!`来关闭它。对于混合值选项，选项名称和选项值用冒号来分割。某些选项是持久的，只会在新游戏一开始就应用。你可以指定多个`OPTIONS`声明，多个选项可以在一个`OPTIONS`中用逗号来分割。（逗号分隔的选项将会从右到左来处理）

例如：

```
OPTIONS=dogname:Fido
OPTIONS=!legacy,autopickup,pickup_types:$"=/!?+
```

##### HACKDIR

NetHack需要的默认文件路径。在Windows上，`HACKDIR`路径默认指向`NetHack.exe`或是`NetHackw.exe`的同一目录，因此设置`HACKDIR`是没有必要或推荐的。

##### LEVELDIR

存储当前正进行的地牢层的文件目录。默认和`HACKDIR`一样，必须可写入。

##### SAVEDIR

存储保存的文件数据的目录。默认和`HACKDIR`一样，必须可写入。

##### BONESDIR

存储尸骨（bones）数据文件的目录。默认和`HACKDIR`一样，必须可写入。

##### LOCKDIR

存储同步加锁文件的目录。默认和`HACKDIR`一样，必须可写入。

##### TROUBLEDIR

存储游戏中断和出现问题时的自诊断（self-diagnosed）记录的文件的目录。默认和`HACKDIR`一样，必须可写入。

##### AUTOCOMPLETE

启用或关闭扩展命令自动完成。自动完成对于X11窗体是没有效果的。你可以指定多个自动完成。想要启动自动完成，只需要列出对应的扩展命令。在命令前加上前缀`!`来禁用对该命令的自动完成。

例如：

```
AUTOCOMPLETE=zap,!annotate
```

##### AUTOPICKUP_EXCEPTION

设置`pickup_types`选项的例外。查阅“配置自动捡起例外情况（Configuring Autopickup Exceptions）”一节。

##### BINDINGS

改变一些特殊按键，menu accelerators（译者：不知道怎么翻译），或是扩展命令的按键绑定。你可以指定多个绑定。格式时一个按键跟随一个用冒号隔开的命令。查阅“改变按键绑定（Changing Key Bindings）”一节获取更多的信息。

例如：

```
BIND=^X:getpos.autodescribe
```

##### CHOOSE

从以逗号分隔的section名字作为参数系列中，随机选择一个作为激活的section，其他的会自动忽略。

例如：

```
OPTIONS=color
CHOOSE=char A,char B
[char A]
OPTIONS=role:arc,race:dwa,align:law,gender:fem
[char B]
OPTIONS=role:wiz,race:elf,align:cha,gender:mal
```

##### MENUCOLOR

以不同颜色高亮显示菜单中的不同项。查阅“配置菜单颜色（Configuring Menu Colors）”一节。

##### MSGTYPE

改变消息在游戏界面顶部状态栏的显示方式。查阅“配置消息类型（Configuring Message Types）”一节。

##### ROGUESYMBOLS

自定义危险层（rogue level）的符号设置。查阅下面的`SYMBOLS`。

##### SOUND

定义一个音频的映射。查阅“配置用户音频（Configuring User Sounds）”一节。

##### SOUNDDIR

定义存放音频文件的目录。查阅“配置用户音频（Configuring User Sounds）”一节。

##### SYMBOLS

覆盖一个或多个用于除了特殊的混乱层的地牢层符号集的符号设置。查阅“修改NetHack符号（Modifying NetHack Symbols）”。

例如：

```
# 用数字替换小符号标记（small punctation，tick marks）
SYMBOLS=S_boulder:0,S_golem:7
# 译者：这里是数字0替换巨石boulder，用数字7替换假人golem
```

##### WIZKIT

Debug模式专属：额外的物品会添加到初始的物品清单中。该声明的值是一个文本文件，该文本文件包含一系列的物品名称，每个名称占一行，最大128行。每行以许愿的进行处理。

这里是一个配置文件内容的样例：

```
# 设置你的人物的角色，种族，性别以及阵营
OPTIONS=role:Valkyrie, race:Human, gender: female, align: lawful
#
# 开启自动捡起，并设置自动捡起的物品类型：钱$，护符"，戒指=，魔杖/，药水!，卷轴?，咒语书+
OPTIONS=autopickup,pickup_types:$"=/!?+
#
# 地图自定义
OPTIONS=color # 可能的话用用颜色显示
OPTIONS=lit_corridor # 区分点亮的走廊（和未点亮的）
OPTIONS=hilite_pet,hilite_pile
# 用数字替换不显眼的符号标记
SYMBOLS=S_boulder:0,S_glome:7
#
# 不显示启动画面（仅限Windows GUI）
OPTIONS=!splash_screen
```

## 9.3 使用NETHACKOPTIONS环境变量（Using the NETHACKOPTIONS environment variable）

`NETHACKOPTIONS`变量是一个以逗号分隔的一系列的各种各样有着初始值的选项。其中的某些选项只可以开启或关闭。当你启用这个选项的时候，只需要把这个选项添加到这个列表中，当想要禁用它的时候可以在其前面添加`!`或是`no`。其他类型的选项由字符串作为值。你可以通过键入选项名，接着一个冒号或者等号，然后键入这个选项字符串值来设置字符串选项。选项值以下一个逗号或字符串来结尾。

例如，要设置环境变量来启用颜色，关闭遗产，角色名称设置为“Blue Meanie”，命名水果为“lime”，你需要输入如下的命令：

在csh中：`% setenv NETHACKOPTIONS "color,\!leg,name:Blue Meanie,fruit:lime"`（需要注意，在这个csh的shell中，!符号需要反斜杠来转义）

在sh，ksh，或是bash中：

```shell
$ NETHACKOPTIONS="color,!leg,name:Blue Meanie,fruit:lime"
$ export NETHACKOPTIONS
```

`NETHACKOPTIONS`的值和在配置文件中单行`OPTIONS`声明是一样的效果。`OPTIONS=`前缀是显式的并且以逗号分隔的选项从右往左处理。其他种类的配置声明例如`BIND`或是`MSGTYPE`则不被允许这样。

除了以逗号分隔的一系列的选项，`NETHACKOPTIONS`能够被设置为要使用的配置文件的全名。如果该全名不是以斜杠打头的，请在前面加上`@`符号，让NetHack能够知道其余的意在用作文件名。如果确实以`/`（斜杠）打头，则`@`符号是可选的。

## 9.4 自定义选项（Customization options）

以下是各种各样的选项对应的效果解释。太长字符串的选项可能会被截断。下列某些选项在你的地牢游戏中是未激活的。

某些选项是持久化的，游戏会保存和读取这些选项。在配置文件中修改这些持久化的选项只会在新的一轮游戏中生效。

##### acoustic（声效）

启用当你的人物听到消息的时候的显示（默认开启）。需要注意的是不会对你计算机的音响产生任何的影响。持久化选项。

##### align（阵营）

你的起始阵营（align:lawful守序，align:neutral中立，或是align:chaotic混乱）。你可以只指定他们的首字母。默认是随机选择一个适当的（appropriate）的阵营。如果你的选项值前加上`!`或是`no`，你的随机阵营将会排除它。无法在命令`O`中的选项列表中设置。持久化选项。

##### autodescribe（自动描述）

自动描述当被要求选择在地图上选择一个地点时，光标所在的地形（默认true）。`whatis_coord`选项控制描述的内容是否包含坐标。

##### autodig（自动驾驶）

自动地驾驶当你正手持一个驾驶工具并且移动到一个可以行驶到的地点（默认：false）。持久化选项。

##### autoopen（自动打开）

走到一个门口的时候试图打开这个门（默认true）。持久化选项。

##### autopickup（自动捡起）

自动地捡起你移动到的地方上的东西（默认开启）。持久化选项。查看`pickup_types`选项来改善（refine）这个行为。

##### autoquiver（自动装填）

这个选项控制当你试图使用`f`发射命令的时候没有东西被装填或是准备好时发生的事（默认false）。当为true的时候，计算机将会填充你的炮筒或是箭袋或是某些准备好的武器。需要注意的事，这个动作并不会考虑（take into account）被祝福（`blessed`）/被诅咒（`cursed`）的状态，魅力值（`enchatment`），伤害值（`damage`），或是武器的质量；你可以自由的手动的装填你的炮筒或是箭袋或是使用命令`Q`。如果武器没有找到或是选项是false，`t`（投掷）命令会代替执行。持久化选项。

##### blind（眼盲）

游戏开始的角色永久眼盲的（默认false）。持久化选项。

##### bones（尸骨）

允许保存和读取尸骨文件（默认true）。持久化选项。

##### boulder（巨石）

设置显示巨石的字符（默认是`large rock`符号`` ` ``）。

##### catname（猫的名字）

给你起始的宠物猫命名（例如`catname:Morris`）。无法在`O`命令中进行设置。

##### character（角色人物）

`role`的同义词（synonym），用于选择你的人物的角色（例如`character:Mond`）。查看`role`选项获取更多的信息。

##### checkpoint（检查点）

在每一地牢层变化后保存游戏的状态，为可能发生的游戏奔溃作游戏内容恢复（默认开启）。持久化选项。

##### checkspace（空间检查）

在NetHack写入一些文件之前首先检查当前可用的磁盘空间（默认开启）。你可能会选择关闭这个选项当你拥有超过2GB的磁盘空间（因为太多的空间或许会因为整数溢出而导致可能看起来没有足够的空间）。只会在编译版本中定义了`MEFLOPPY`的时候才会才会应用。

##### clicklook（点击查看）

允许通过鼠标右键点击屏幕上的物品来查看对应东西的信息。

##### cmdassist（命令行帮助）

让游戏在预感到新玩家使用错误的命令时提供一些额外的命令帮助信息默认开启）。

##### confirm（确认）

在攻击宠物，商店主，或其他和平生物的时候需要进行确认（默认开启）。持久化选项。

##### dark_room（黑屋子）

显示当前照亮的屋子的其他的地方（默认开启）。持久化选项。

##### disclose（揭露，公开）

控制游戏在结束的时候要显示什么信息。该选项的值是以空格分隔的提示/目录对（默认的是“ni na nv ng nc no”，提示默认响应为“n”。持久化选项。可能的值有：

3396 to translate



