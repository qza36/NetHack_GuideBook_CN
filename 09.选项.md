# 9. 选项

由于各种各样玩家的风格和NetHack本身的一些概念，这里有一些你可以自定义设置的选项来决定NetHack的行为。

## 9.1 设置选项（Setting the options）

选项可以通过很多种方式进行设置。在游戏中，`O`命令允许你查看所有的选项并且改变他们中的大多数。你也可以把这些选项放置在配置文件中，或是设置在`NETHACKOPTIONS`环境变量中来自动加载它们。某些版本的NetHack也有前端程序来让你在游戏启动的时候设置或是对于系统管理员的全局配置。

## 9.2 使用配置文件（Using a configuration file）

配置文件的默认名称取决于不同的操作系统。

在UNIX，Linux和Mac OS X上，它是`.nethackrc`并且处于用户的`home`目录下。这个文件或许不存在，但是它是一个ASCII文本文件并且你可以用任何文本编辑器来创建它。

在Windows上，它是`.nethackrc`并处于文件夹`\$USERPROFILE%\NetHack\3.6\`中。这个文件或许不存在，但是它是一个ASCII文本文件并且你可以用任何文本编辑器来创建它。在第一次运行了NetHack之后，你将会发现一个名为`.nethackrc.template`的文件在`\$USERPROFILE%\NetHack\3.6\`中。如果你没有创建配置文件，NetHack将会使用模版配置文件来创建一个简单的配置文件来供你使用。

在MS-DOS上，它是`.defaults.nh`并处于`nethack.exe`同目录下。

在配置文件中所有以`#`开头的行将被视为注释。空行将会被忽略。

任何以`[`开头，`]`结尾的行将被视为一个章节（section）标识。处于方括号之间的文本是这节的名称。在这节之后的所有行都被认为是属于这一节的。除非是一个`CHOOSE`声明用于选择某个章节（其他的会被忽略）。章节名称大小写敏感。

你可以使用不同的配置声明在配置文件中，其中某些声明可以多次使用。通常，配置声明使用大写字母书写，紧跟着一个等于符号，再跟着对于该声明指定的设置。

下面是允许使用的声明：

##### OPTIONS

options的类型有两种，布尔类型和多值类型。布尔选项会让设置开启或关闭，而多值类型选项则有多个选项值。对于布尔选项，在其前缀加上`no`或是`!`来关闭它。对于混合值选项，选项名称和选项值用冒号来分割。某些选项是持久的，只会在新游戏一开始就应用。你可以指定多个`OPTIONS`声明，多个选项可以在一个`OPTIONS`中用逗号来分割。（逗号分隔的选项将会从右到左来处理）

例如：

```
OPTIONS=dogname:Fido
OPTIONS=!legacy,autopickup,pickup_types:$"=/!?+
```

##### HACKDIR

NetHack需要的默认文件路径。在Windows上，`HACKDIR`路径默认指向`NetHack.exe`或是`NetHackw.exe`的同一目录，因此设置`HACKDIR`是没有必要或推荐的。

##### LEVELDIR

存储当前正进行的地牢层的文件目录。默认和`HACKDIR`一样，必须可写入。

##### SAVEDIR

存储保存的文件数据的目录。默认和`HACKDIR`一样，必须可写入。

##### BONESDIR

存储尸骨（bones）数据文件的目录。默认和`HACKDIR`一样，必须可写入。

##### LOCKDIR

存储同步加锁文件的目录。默认和`HACKDIR`一样，必须可写入。

##### TROUBLEDIR

存储游戏中断和出现问题时的自诊断（self-diagnosed）记录的文件的目录。默认和`HACKDIR`一样，必须可写入。

##### AUTOCOMPLETE

启用或关闭扩展命令自动完成。自动完成对于X11窗体是没有效果的。你可以指定多个自动完成。想要启动自动完成，只需要列出对应的扩展命令。在命令前加上前缀`!`来禁用对该命令的自动完成。

例如：

```
AUTOCOMPLETE=zap,!annotate
```

##### AUTOPICKUP_EXCEPTION

设置`pickup_types`选项的例外。查阅“配置自动捡起例外情况（Configuring Autopickup Exceptions）”一节。

##### BINDINGS

改变一些特殊按键，menu accelerators（译者：不知道怎么翻译），或是扩展命令的按键绑定。你可以指定多个绑定。格式时一个按键跟随一个用冒号隔开的命令。查阅“改变按键绑定（Changing Key Bindings）”一节获取更多的信息。

例如：

```
BIND=^X:getpos.autodescribe
```

##### CHOOSE

从以逗号分隔的section名字作为参数系列中，随机选择一个作为激活的section，其他的会自动忽略。

例如：

```
OPTIONS=color
CHOOSE=char A,char B
[char A]
OPTIONS=role:arc,race:dwa,align:law,gender:fem
[char B]
OPTIONS=role:wiz,race:elf,align:cha,gender:mal
```

##### MENUCOLOR

以不同颜色高亮显示菜单中的不同项。查阅“配置菜单颜色（Configuring Menu Colors）”一节。

##### MSGTYPE

改变消息在游戏界面顶部状态栏的显示方式。查阅“配置消息类型（Configuring Message Types）”一节。

##### ROGUESYMBOLS

自定义危险层（rogue level）的符号设置。查阅下面的`SYMBOLS`。

##### SOUND

定义一个音频的映射。查阅“配置用户音频（Configuring User Sounds）”一节。

##### SOUNDDIR

定义存放音频文件的目录。查阅“配置用户音频（Configuring User Sounds）”一节。

##### SYMBOLS

覆盖一个或多个用于除了特殊的混乱层的地牢层符号集的符号设置。查阅“修改NetHack符号（Modifying NetHack Symbols）”。

例如：

```
# 用数字替换小符号标记（small punctation，tick marks）
SYMBOLS=S_boulder:0,S_golem:7
# 译者：这里是数字0替换巨石boulder，用数字7替换假人golem
```

##### WIZKIT

Debug模式专属：额外的物品会添加到初始的物品清单中。该声明的值是一个文本文件，该文本文件包含一系列的物品名称，每个名称占一行，最大128行。每行以许愿的进行处理。

这里是一个配置文件内容的样例：

```
# 设置你的人物的角色，种族，性别以及阵营
OPTIONS=role:Valkyrie, race:Human, gender: female, align: lawful
#
# 开启自动捡起，并设置自动捡起的物品类型：钱$，护符"，戒指=，魔杖/，药水!，卷轴?，咒语书+
OPTIONS=autopickup,pickup_types:$"=/!?+
#
# 地图自定义
OPTIONS=color # 可能的话用用颜色显示
OPTIONS=lit_corridor # 区分点亮的走廊（和未点亮的）
OPTIONS=hilite_pet,hilite_pile
# 用数字替换不显眼的符号标记
SYMBOLS=S_boulder:0,S_glome:7
#
# 不显示启动画面（仅限Windows GUI）
OPTIONS=!splash_screen
```

## 9.3 使用NETHACKOPTIONS环境变量（Using the NETHACKOPTIONS environment variable）

`NETHACKOPTIONS`变量是一个以逗号分隔的一系列的各种各样有着初始值的选项。其中的某些选项只可以开启或关闭。当你启用这个选项的时候，只需要把这个选项添加到这个列表中，当想要禁用它的时候可以在其前面添加`!`或是`no`。其他类型的选项由字符串作为值。你可以通过键入选项名，接着一个冒号或者等号，然后键入这个选项字符串值来设置字符串选项。选项值以下一个逗号或字符串来结尾。

例如，要设置环境变量来启用颜色，关闭遗产，角色名称设置为“Blue Meanie”，命名水果为“lime”，你需要输入如下的命令：

在csh中：`% setenv NETHACKOPTIONS "color,\!leg,name:Blue Meanie,fruit:lime"`（需要注意，在这个csh的shell中，!符号需要反斜杠来转义）

在sh，ksh，或是bash中：

```shell
$ NETHACKOPTIONS="color,!leg,name:Blue Meanie,fruit:lime"
$ export NETHACKOPTIONS
```

`NETHACKOPTIONS`的值和在配置文件中单行`OPTIONS`声明是一样的效果。`OPTIONS=`前缀是显式的并且以逗号分隔的选项从右往左处理。其他种类的配置声明例如`BIND`或是`MSGTYPE`则不被允许这样。

除了以逗号分隔的一系列的选项，`NETHACKOPTIONS`能够被设置为要使用的配置文件的全名。如果该全名不是以斜杠打头的，请在前面加上`@`符号，让NetHack能够知道其余的意在用作文件名。如果确实以`/`（斜杠）打头，则`@`符号是可选的。

## 9.4 自定义选项（Customization options）

以下是各种各样的选项对应的效果解释。太长字符串的选项可能会被截断。下列某些选项在你的地牢游戏中是未激活的。

某些选项是持久化的，游戏会保存和读取这些选项。在配置文件中修改这些持久化的选项只会在新的一轮游戏中生效。

##### acoustic（声效）

启用当你的人物听到消息的时候的显示（默认开启）。需要注意的是不会对你计算机的音响产生任何的影响。持久化选项。

##### align（阵营）

你的起始阵营（align:lawful守序，align:neutral中立，或是align:chaotic混乱）。你可以只指定他们的首字母。默认是随机选择一个适当的（appropriate）的阵营。如果你的选项值前加上`!`或是`no`，你的随机阵营将会排除它。无法在命令`O`中的选项列表中设置。持久化选项。

##### autodescribe（自动描述）

自动描述当被要求选择在地图上选择一个地点时，光标所在的地形（默认true）。`whatis_coord`选项控制描述的内容是否包含坐标。

##### autodig（自动驾驶）

自动地驾驶当你正手持一个驾驶工具并且移动到一个可以行驶到的地点（默认：false）。持久化选项。

##### autoopen（自动打开）

走到一个门口的时候试图打开这个门（默认true）。持久化选项。

##### autopickup（自动捡起）

自动地捡起你移动到的地方上的东西（默认开启）。持久化选项。查看`pickup_types`选项来改善（refine）这个行为。

##### autoquiver（自动装填）

这个选项控制当你试图使用`f`发射命令的时候没有东西被装填或是准备好时发生的事（默认false）。当为true的时候，计算机将会填充你的炮筒或是箭袋或是某些准备好的武器。需要注意的事，这个动作并不会考虑（take into account）被祝福（`blessed`）/被诅咒（`cursed`）的状态，魅力值（`enchatment`），伤害值（`damage`），或是武器的质量；你可以自由的手动的装填你的炮筒或是箭袋或是使用命令`Q`。如果武器没有找到或是选项是false，`t`（投掷）命令会代替执行。持久化选项。

##### blind（眼盲）

游戏开始的角色永久眼盲的（默认false）。持久化选项。

##### bones（尸骨）

允许保存和读取尸骨文件（默认true）。持久化选项。

##### boulder（巨石）

设置显示巨石的字符（默认是`large rock`符号`` ` ``）。

##### catname（猫的名字）

给你起始的宠物猫命名（例如`catname:Morris`）。无法在`O`命令中进行设置。

##### character（角色人物）

`role`的同义词（synonym），用于选择你的人物的角色（例如`character:Mond`）。查看`role`选项获取更多的信息。

##### checkpoint（检查点）

在每一地牢层变化后保存游戏的状态，为可能发生的游戏奔溃作游戏内容恢复（默认开启）。持久化选项。

##### checkspace（空间检查）

在NetHack写入一些文件之前首先检查当前可用的磁盘空间（默认开启）。你可能会选择关闭这个选项当你拥有超过2GB的磁盘空间（因为太多的空间或许会因为整数溢出而导致可能看起来没有足够的空间）。只会在编译版本中定义了`MEFLOPPY`的时候才会才会应用。

##### clicklook（点击查看）

允许通过鼠标右键点击屏幕上的物品来查看对应东西的信息。

##### cmdassist（命令行帮助）

让游戏在预感到新玩家使用错误的命令时提供一些额外的命令帮助信息默认开启）。

##### confirm（确认）

在攻击宠物，商店主，或其他和平生物的时候需要进行确认（默认开启）。持久化选项。

##### dark_room（黑屋子）

显示当前照亮的屋子的其他的地方（默认开启）。持久化选项。

##### disclose（展开）

控制游戏在结束的时候要展开什么信息。该选项的值是以空格分隔的提示/目录对（默认的是“ni na nv ng nc no”，提示默认响应为“n”。持久化选项。可能的值有：

- `i` - 打开你的物品清单
- `a` - 打开你的属性界面
- `v` - 你当前已经打败的怪物的总览
- `g` - 列出已经灭绝的指定的怪物
- `c` - 显示你的行为成就
- `o` - 显示地牢的概览

每一项显示可以在其之前添加可选的前缀来改善它的行为。以下是一些可用的前缀：

- `y` - 显示提示符并且默认回答yes
- `n` - 不显示提示符并且默认回答no
- `+` - 不显示提示符就展开
- `-` - 不展开它也不显示提示符

列出的已经战胜的怪物并可以进行排序，因此对于`v`选项会有两个附加的选择：

- `?` - 提示你并且默认回答这个提示
- `#` - 不进行提示就进行显示，询问一个排序的顺序

询问涉及到从一个菜单中选择一个顺序。`+`会不显示提示符的展开，或是回答`y`来而不是`a`来显示提示符，将会默认以传统排序的方式显示，即从高等级到低等级。

省略目录将会隐式地添加`n`前缀。指定目录并省略前缀会隐式地使用`+`前缀。展开目录的顺序是无所谓的，程序按照一系列显示所有的展开。

（例如`disclose:yi na +v -g o`）这个例子设置物品清单给出提示符并默认回答yes，属性给出提示符并默认回答no，不给出提示符的展开已经战胜的怪物，消灭的怪物将不会展开也不会给出提示，行为将会隐式的给出提示并默认回答no，并且全局概览将会展开并不给出提示符。

需要注意的是战胜的怪物清单将会包括所有的杀死的怪物包括被陷阱杀死的，以及它们之间相互以及被你杀死的。并且地牢概览会显示所有的你见过的地牢层但是不会显示那些你还没有发现的地牢层。

##### dogname（狗名字）

给你的起始狗狗命名（例如：`dogname:Fang`）。无法使用`O`命令来设置。

##### extmenu（扩展菜单）

改变扩展命令界面为弹出一个可用的命令菜单。该界面的按键和传统的相同除了你不需要按回车键。它基于tty界面实现（默认关闭）。

对于X11界面，总是会使用一个菜单来选择扩展命令，它控制了菜单是否显示所有的可用命令或是仅仅是传统意义上被认为是扩展自某个命令的命令的子集

##### female（女性）

和`gender:female`是同义的但是已被弃用。无法使用`O`命令来进行设置。

##### fixinv（固定清单）

当物品清单中的一件物品被丢弃后，该物品对应的字母依然为它保留（默认开启）。如果该选项关闭，丢弃物品会移动剩下的所有的物品对应的字母。持久化选项。

##### force_invmenu（强制物品清单菜单显示）

当命令询问某个物品的时候会显示一个菜单而不是物品对应字母的文本。默认关闭。

##### fruit（水果）

用某个你喜欢吃的东西来命名水果（例如`fruit:mango`）（默认为`slime mold`“黏菌”）。这基本上是NetHack不时使用的旧（nostalgic）幽默（whimsy）。你应该设置这些名称为更加开胃的（appetizing）名称为不是黏菌。苹果apples，橘子oranges，梨pears，香蕉bananas以及甜瓜melons已经在NetHack里面存在了，所以不要使用这些了。

##### gender（性别）

游戏开始时你会有一个性别（`gender:male`或是`gender:female`）。你可以指定首字母。尽管你可以使用`male`和`female`选项来指示你的性别，`gender`选项将会优先。该选项默认的值是随机选择一个合适的性别。如果你在该选项的值前面加上`!`或是`no`，你将会在随机选择的时候排除该性别。无法通过`O`命令来设置。持久化选项。

##### goldX

当基于祝福和诅咒状态来过滤物品的时候，是否对待金币也同样适用`X`（未知的祝福/诅咒状态，当开启是）或是`U`（被识别为`uncursed`未诅咒的，当默认关闭时）。黄金永远不会被祝福或是被诅咒，但是即使当`implicit_uncursed`选项为`off`关闭时，黄金也不会被描述为`uncursed`（未被诅咒的）。

##### help（帮助）

如果使用`/`命令查看物品的时候，有更多的信息，如果你想要查看更多的信息，会进行询问（默认开启）。如果关闭了帮助选项那么在查看的时候只会快速查看信息，你不会被“More info?（更多的信息？）”打断，但是这也意味着你可能会错过某些感兴趣的和/或重要的信息。持久化选项。

##### herecmd_menu

当使用一个窗口端的支持鼠标并且点击你自身或是你的旁边的时候，显示一个在当前位置的可能可以进行的操作的菜单。和命令`#herecmdmenu`、`#therecmdmenu`同样效果。

##### hilite_pet

直观的显示分辨宠物与相似的动物（默认关闭）。这个选项的行为取决于你所使用的窗口。在文本窗口中，通常使用的是文本高亮或是反色；在贴图版中，通常会在宠物的周围显示一颗爱心。

在光标接口下，`petattr`选项控制了如何高亮宠物并且设置了该选项以后将会以关闭或是开启`hilite_pet`选项作为保证。

##### hilite_pile

直观的显示来自自己的一堆物品（默认关闭）。这项选项的效果取决于你所使用的窗口类型。在文字窗口中，文本高亮或是反色是最长使用的；在图形模式下，通常像是一个小的加号符号在一堆物品的顶部。

##### hitpointbar

3547 待翻译
